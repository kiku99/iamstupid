# HTTPS

## HTTP vs HTTPS

### HTTP

Hypetext Transfer Protocol의 약자로 서로 다른 시스템들 사이에서 통신을 주고받게 하는 가장 기본적인 프로토콜

서버에서 브라우저로 데이터를 전송하는 용도로 가장 많이 사용함

### HTTPS

Hypetext Transfer Protocol Secure의 약자로 HTTP에서 SSL(보안 소켓 계층)을 사용한 프로토콜

SSL은 서버와 브라우저 사이에 안전하게 암호화된 연결을 만들 수 있게 도와주고, 서버와 브라우저가 민감한 정보를 주고받을 때 해당 정보가 도난당하는 것을 막아줌

HTTPS를 사용하는 이유는 다음과 같다

- 보안성
- SEO(검색엔진 최적화)

## SSL/TLS

### SSL

Secure Sockets Layer의 약자로 Netscape Communications Corporation에서 웹 서버와 웹 브라우저간의 보안을 위해 만든 프로토콜

공개키/개인키/대칭키 기반으로 사용함

### 공개키

공개키는 누구든지 알아도 상관없는 키로 개인키와 쌍을 이루어 존재한다. 보통 데이터를 암호화 하는데 사용하고 개인키로 암호화된 데이터는 공개키로 복호화 가능하다.

### 개인키

오직 Key 발행자만이 갖는 키로 공개키와 쌍을 이루어 존재한다. 보통 데이터를 복호화 하는데 사용한다.

### 대칭키

공개키와 대칭키처럼 암호화/복호화에 각기 다른 키를 사용하는 것이 아닌, '대칭키'라는 하나의 키를 사용한다. 

## SSL 통신 과정

1. 사이트: 인증기관에게 사이트 인증서를 얻기 위해 사이트 정보와 사이트 공개키를 전달한다.
2. 인증기관: 전달받은 데이터를 검증하면 사이트 인증서를 만들기 위해 사이트 정보와 공개키를 인증기관 개인키로 암호화한다. 이렇게 해서 생성된 사이트 인증서는 사이트에게 전달한다.
3. 인증기관: 사용자에게 인증기관 공개키를 전달한다. 이때 공개키는 사용자 브라우저에 내장된다.
4. 사용자: 사이트에 접속하기 위해 접속을 요청한다.
5. 사이트: 사용자에게 자신의 인증서(인증기관 개인키로 암호화된 사이트 정보, 사이트 공개키)를 전달한다.
6. 사용자: 브라우저에 내장된 인증기관 공개키로 사이트 인증서를 복호화한다. 복호화에 성공하면 사이트 정보와 사이트 공개키를 얻을 수 있다.
7. 사용자: 얻은 사이트 공개키로 자신의 대칭키를 암호화한다. 그리고 암호화한 자신의 대칭키를 사이트에게 전달한다.
8. 사이트: 사용자 대칭키를 자신의 개인키를 사용해 복호화해서 사용자 대칭키를 얻는다.
9. 이제 사이트와 사용자는 대칭키를 이용하여 서로 데이터를 주고 받을 수 있다.
